# Backend (FastAPI) environment - DEV/PoC
# For production, use backend.env.prod.example
PDS_ENV=dev

DATABASE_URL=postgresql+psycopg2://USER:PASS@HOST:PORT/DBNAME?sslmode=require

# MQTT broker inside docker network
MQTT_BROKER_HOST=mosquitto
MQTT_BROKER_PORT=1883
MQTT_USERNAME=your_mqtt_user
MQTT_PASSWORD=your_mqtt_pass
MQTT_PROTOCOL=v311

# Startup behavior (dev-friendly)
AUTO_CREATE_DB=true
AUTO_SEED_GODOWNS=true
AUTO_SEED_CAMERAS_FROM_EDGE=true
AUTO_SEED_RULES=true
ENABLE_MQTT_CONSUMER=true
ENABLE_DISPATCH_WATCHDOG=true
ENABLE_DISPATCH_PLAN_SYNC=true

# Auth (dev mode)
PDS_AUTH_DISABLED=true
PDS_AUTH_TOKEN=demo-token
# Service token for edge -> backend face-index sync.
AUTHORIZED_USERS_SERVICE_TOKEN=demo-edge-token
EDGE_BACKEND_TOKEN=demo-edge-token

# API safety limits
API_MAX_PAGE_SIZE=200
RATE_LIMIT_ENABLED=false
RATE_LIMIT_RPS=5
RATE_LIMIT_BURST=20
MAX_JSON_BODY_BYTES=1048576
MAX_UPLOAD_BYTES=10485760

# Watchlist storage inside container
WATCHLIST_STORAGE_BACKEND=local
WATCHLIST_STORAGE_DIR=/opt/app/data/watchlist
WATCHLIST_IMAGE_BASE_URL=http://127.0.0.1:8001/media/watchlist

# Notifications (set if you use them)
WHATSAPP_PROVIDER=log
WHATSAPP_WEBHOOK_URL=
WHATSAPP_HTTP_URL=
WHATSAPP_HTTP_TOKEN=
SMTP_HOST=
SMTP_PORT=587
SMTP_USER=
SMTP_PASS=
SMTP_FROM=
SMTP_USE_TLS=true
